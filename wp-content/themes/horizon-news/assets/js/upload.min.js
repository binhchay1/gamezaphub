var horizon_news_file_frame;jQuery(function(e){jQuery(document).on("click","input.select-img",function(t){var i=e(this);t.preventDefault();var r=wp.media.controller.Library.extend({defaults:_.defaults({id:"author-insert-image",title:i.data("uploader_title"),allowLocalEdits:!1,displaySettings:!0,displayUserSettings:!1,multiple:!1,library:wp.media.query({type:"image"})},wp.media.controller.Library.prototype.defaults)});(horizon_news_file_frame=wp.media.frames.horizon_news_file_frame=wp.media({button:{text:jQuery(this).data("uploader_button_text")},state:"author-insert-image",states:[new r],multiple:!1})).on("select",function(){var e=horizon_news_file_frame.state("author-insert-image"),t=e.get("selection"),r=e.display(t.first()).toJSON(),a=t.first().toJSON();r=wp.media.string.props(r,a);var s=i.siblings(".img"),l=r.src;s.val(l),s.trigger("change")}),horizon_news_file_frame.open()})});